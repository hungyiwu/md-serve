<!DOCTYPE html>
<html>
	<head>
		<script src="https://d3js.org/d3.v5.min.js" charset="utf-8"></script>
		<script src="{{ url_for('static', filename='app.js') }}"></script>
	</head>

	<body>
		<h2>Mixed-distance scatter plot</h2>
		<div>
			<p>Fractional weight of physical distance</p>
			<input type="range" id="slider" min="0.0" max="0.6" step="0.6" value="0.0">
			<label id="slider-label" for="slider">0.0</label>
		</div>

		<svg id="canvas" height=300 width=500></svg>

		<script>
			d3.json("/api/v1/coord/0.0").then(function (data) {
				drawChart(d3.select("#canvas"), data, false);
			});

			d3.select("#slider").on("input", function () {
				var key = parseFloat(this.value).toFixed(1);
				d3.select("#slider-label").text(this.value);
				d3.json(`/api/v1/coord/${key}`).then(function (data) {
					drawChart(d3.select("#canvas"), data, true);
				});
			});
		</script>
	</body>
</html>
